<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>A-Frame Demo Bunny @rootx</title>
  <!-- <script src="https://aframe.io/releases/latest/aframe.min.js" charset="utf-8"></script> -->
  <script src="https://aframe.io/releases/latest/aframe.js" charset="utf-8"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.5.1/dat.gui.min.js"></script>
  <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
</head>

<body>
  <a-scene>
    <a-asset>
      <a-mixin id="mat" material="color: #fff; metalness: 1.0; roughness: 0.1; reflectivity: 0.0"></a-mixin>
    </a-asset>

    <template is="a-template" element="csl-ground">
      <a-plane color="#333" rotation="90 0 0" width="100" height="100"></a-plane>
    </template>

    <template is="a-template" element="csl-bunny">
      <a-model mixin="mat" format="obj" src="assets/models/bunny_with_normals.obj" scale="10 10 10" position="0 0 0" rotation="0 0 0" color="#666">
        <a-animation attribute="position" from="0 -0.4 0" to="0 1.8 0" repeat="indefinite" easing="ease-in-out-circ" fill="forwards" direction="alternate" dur="800"></a-animation>

        <a-mouseenter scale="2 2 2" color="#f66"></a-mouseenter>
      </a-model>
    </template>

    <template is="a-template" element="csl-bunny-around">
      <a-animation attribute="rotation" from="0 0 0" to="0 360 0" repeat="indefinite" easing="linear" fill="forwards" dur="16000"></a-animation>
      <csl-bunny position="5 0 0" rotation="0 -90 0"></csl-bunny>
      <csl-bunny position="0 0 5" rotation="0 180 0"></csl-bunny>
      <csl-bunny position="-5 0 0" rotation="0 90 0"></csl-bunny>
      <csl-bunny position="0 0 -5" rotation="0 0 0"></csl-bunny>
    </template>

    <a-camera id="camera" position="0 1.8 0" fov="80" near="0.5" far="10000" cursor-visible="true" cursor-scale="1" cursor-color="blue" cursor-maxdistance="1000" cursor-offset="1" look-controls-enabled="true" wasd-controls-enabled="true">
      <!-- カメラにアニメーションを付与しようとしましたが，まともに動作しません（3FPSくらいになる） -->
    </a-camera>


    <csl-bunny-around> </csl-bunny-around>
    <csl-bunny-around rotation="0 30 0"> </csl-bunny-around>
    <csl-bunny-around rotation="0 60 0"> </csl-bunny-around>

    <csl-ground position="0 0 0" visible="true"></csl-ground>


    <a-entity position="-2 1.5 -2">
      <!-- Green -->
      <a-entity>
        <a-animation attribute="scale" from="1 0 1" to="1 1 1" dur="2000" fill="both"></a-animation>
        <a-cylinder position="0 2 0" radius="2" height="2" translate="0 -1 0" color="#7BC8A4" open-ended="true" side="double">
          <a-animation attribute="scale" from="1 1.25 1" to="1 0 1" dur="2000" fill="both"></a-animation>
        </a-cylinder>

        <a-cylinder position="0 -2 0" radius="2" height="2" translate="0 1 0" color="#7BC8A4" open-ended="true" side="double">
          <a-animation attribute="scale" from="1 1.25 1" to="1 0 1" dur="2000" fill="both"></a-animation>
        </a-cylinder>
      </a-entity>

      <!-- Orange -->
      <a-entity>
        <a-animation attribute="scale" from="0.9 0 0.9" to="0.9 1 0.9" begin="200" dur="2000" fill="both"></a-animation>
        <a-cylinder position="0 2 0" radius="2" height="2" translate="0 -1 0" color="#F16745" open-ended="true" side="double">
          <a-animation attribute="scale" from="1 1.25 1" to="1 0 1" begin="200" dur="2000" fill="both"></a-animation>
        </a-cylinder>

        <a-cylinder position="0 -2 0" radius="2" height="2" translate="0 1 0" color="#F16745" open-ended="true" side="double">
          <a-animation attribute="scale" from="1 1.25 1" to="1 0 1" begin="200" dur="2000" fill="both"></a-animation>
        </a-cylinder>
      </a-entity>

      <!-- Blue -->
      <a-entity>
        <a-animation attribute="scale" from="0.8 0 0.8" to="0.8 1 0.8" begin="400" dur="2000" fill="both"></a-animation>
        <a-cylinder position="0 2 0" radius="2" height="2" translate="0 -1 0" color="#4CC3D9" open-ended="true" side="double">
          <a-animation attribute="scale" from="1 1.25 1" to="1 0 1" begin="400" dur="2000" fill="both"></a-animation>
        </a-cylinder>

        <a-cylinder position="0 -2 0" radius="2" height="2" translate="0 1 0" color="#4CC3D9" open-ended="true" side="double">
          <a-animation attribute="scale" from="1 1.25 1" to="1 0 1" begin="400" dur="2000" fill="both"></a-animation>
        </a-cylinder>
      </a-entity>

      <!-- Yellow -->
      <a-entity>
        <a-animation attribute="scale" from="0.7 0 0.7" to="0.7 1 0.7" begin="600" dur="2000" fill="both"></a-animation>
        <a-cylinder position="0 2 0" radius="2" height="2" translate="0 -1 0" color="#FFC65D" open-ended="true" side="double">
          <a-animation attribute="scale" from="1 1.25 1" to="1 0 1" begin="600" dur="2000" fill="both"></a-animation>
        </a-cylinder>

        <a-cylinder position="0 -2 0" radius="2" height="2" translate="0 1 0" color="#FFC65D" open-ended="true" side="double">
          <a-animation attribute="scale" from="1 1.25 1" to="1 0 1" begin="600" dur="2000" fill="both"></a-animation>
        </a-cylinder>
      </a-entity>

      <!-- Purple -->
      <a-entity>
        <a-animation attribute="scale" from="0.6 0 0.6" to="0.6 1 0.6" begin="800" dur="2000" fill="both"></a-animation>
        <a-cylinder position="0 2 0" radius="2" height="2" translate="0 -1 0" color="#93648D" open-ended="true" side="double">
          <a-animation attribute="scale" from="1 1.25 1" to="1 0 1" begin="800" dur="2000" fill="both"></a-animation>
        </a-cylinder>

        <a-cylinder position="0 -2 0" radius="2" height="2" translate="0 1 0" color="#93648D" open-ended="true" side="double">
          <a-animation attribute="scale" from="1 1.25 1" to="1 0 1" begin="800" dur="2000" fill="both"></a-animation>
        </a-cylinder>
      </a-entity>

    </a-entity>




    <a-light id="hemisphere" type="hemisphere" intensity="0.2" color="#aaa" groundColor="#ccc"></a-light>
    <a-light id="dirlight" type="directional" intensity="0.3" position="5 5 5" color="#fff"></a-light>
    <a-light id="spot" type="spot" intensity="0.1" position="0 0 0" color="#fff"></a-light>
    <a-light type="point" intensity="1.0" position="4 10 0" color="#ccc"></a-light>
  </a-scene>
</body>

</html>
